<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hurricane Window Savings Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
</head>
<body class="bg-gray-100">
    <div id="root"></div>
    <script src="https://unpkg.com/react/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/babel-standalone"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const formatNumber = (num) => {
            return num.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        };

        const HurricaneWindowCalculator = () => {
            const [windowCount, setWindowCount] = useState(5);
            const [windowSize, setWindowSize] = useState(24);
            const [materialType, setMaterialType] = useState('standard');
            const [currentInsurance, setCurrentInsurance] = useState(1000);
            const [currentUtility, setCurrentUtility] = useState(200);
            const [projectionYears, setProjectionYears] = useState(5);

            const [totalCost, setTotalCost] = useState(0);
            const [annualSavings, setAnnualSavings] = useState(0);
            const [breakdownSavings, setBreakdownSavings] = useState({
                annualInsuranceSavings: 0,
                annualUtilitySavings: 0,
                annualTaxBenefit: 0,
                totalLongTermSavings: 0
            });

            useEffect(() => {
                const baseCost = 50; // per square foot
                const laborCostPerWindow = 200; // Labor cost per window
                const materialFactor = { standard: 1, premium: 1.5, luxury: 2 };
                
                const materialCost = baseCost * materialFactor[materialType] * windowSize * windowCount;
                const laborCost = laborCostPerWindow * windowCount; 
                const calculatedTotalCost = materialCost + laborCost;

                const annualInsuranceSavings = currentInsurance * 0.45;
                const annualUtilitySavings = currentUtility * 12 * 0.12;
                const annualTaxBenefit = calculatedTotalCost * 0.2 / projectionYears;
                const totalAnnualSavings = annualInsuranceSavings + annualUtilitySavings + annualTaxBenefit;
                const totalLongTermSavings = totalAnnualSavings * projectionYears;

                setTotalCost(calculatedTotalCost);
                setAnnualSavings(totalAnnualSavings);
                setBreakdownSavings({
                    annualInsuranceSavings,
                    annualUtilitySavings,
                    annualTaxBenefit,
                    totalLongTermSavings
                });
            }, [windowCount, windowSize, materialType, currentInsurance, currentUtility, projectionYears]);

            return (
                <div className="p-6 max-w-4xl mx-auto bg-white rounded-lg shadow-md">
                    <h1 className="text-4xl font-extrabold text-gray-800 mb-4">Hurricane Window Savings Calculator</h1>
                    <p className="mb-6 text-gray-600 leading-relaxed">
                        Estimate your costs and potential savings from installing hurricane impact windows. 
                        Adjust the inputs below to calculate how much you could save annually on insurance premiums, utility bills, and total tax benefits.
                    </p>

                    {/* Cost Breakdown and Savings */}
                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
                        <div className="bg-gray-100 p-4 rounded-lg shadow">
                            <h2 className="text-lg font-semibold text-gray-700">Total Installation Cost</h2>
                            <div className="text-3xl font-bold text-gray-800">${formatNumber(totalCost)}</div>
                        </div>
                        <div className="bg-gray-100 p-4 rounded-lg shadow">
                            <h2 className="text-lg font-semibold text-gray-700">Annual Savings</h2>
                            <div className="text-3xl font-bold text-green-600">${formatNumber(annualSavings)}/yr</div>
                        </div>
                    </div>

                    {/* Sliders and Inputs */}
                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
                        <div className="p-4 bg-white rounded-lg shadow">
                            <label className="block mb-2 text-gray-700 font-semibold">Number of Windows</label>
                            <input
                                type="range"
                                min="1"
                                max="20"
                                value={windowCount}
                                onChange={(e) => setWindowCount(Number(e.target.value))}
                                className="w-full"
                            />
                            <div className="text-center mt-2 text-gray-800 font-bold">{windowCount} Windows</div>
                        </div>
                        <div className="p-4 bg-white rounded-lg shadow">
                            <label className="block mb-2 text-gray-700 font-semibold">Window Size (sq ft)</label>
                            <input
                                type="range"
                                min="10"
                                max="100"
                                value={windowSize}
                                onChange={(e) => setWindowSize(Number(e.target.value))}
                                className="w-full"
                            />
                            <div className="text-center mt-2 text-gray-800 font-bold">{windowSize} sq ft</div>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
                        <div className="p-4 bg-white rounded-lg shadow">
                            <label className="block mb-2 text-gray-700 font-semibold">Material Type</label>
                            <select
                                value={materialType}
                                onChange={(e) => setMaterialType(e.target.value)}
                                className="w-full p-2 border rounded-lg"
                            >
                                <option value="standard">Standard</option>
                                <option value="premium">Premium</option>
                                <option value="luxury">Luxury</option>
                            </select>
                        </div>
                        <div className="p-4 bg-white rounded-lg shadow">
                            <label className="block mb-2 text-gray-700 font-semibold">Current Annual Insurance ($)</label>
                            <input
                                type="number"
                                value={currentInsurance}
                                onChange={(e) => setCurrentInsurance(Number(e.target.value))}
                                className="w-full p-2 border rounded-lg"
                            />
                        </div>
                    </div>

                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
                        <div className="p-4 bg-white rounded-lg shadow">
                            <label className="block mb-2 text-gray-700 font-semibold">Current Monthly Utility Bill ($)</label>
                            <input
                                type="number"
                                value={currentUtility}
                                onChange={(e) => setCurrentUtility(Number(e.target.value))}
                                className="w-full p-2 border rounded-lg"
                            />
                        </div>
                        <div className="p-4 bg-white rounded-lg shadow">
                            <label className="block mb-2 text-gray-700 font-semibold">Projection Years</label>
                            <select
                                value={projectionYears}
                                onChange={(e) => setProjectionYears(Number(e.target.value))}
                                className="w-full p-2 border rounded-lg"
                            >
                                {[5, 10, 15, 20, 25, 30].map(year => (
                                    <option key={year} value={year}>{year} years</option>
                                ))}
                            </select>
                        </div>
                    </div>

                    {/* Savings Breakdown */}
                    <div className="bg-white p-6 rounded-lg shadow mb-6">
                        <h2 className="text-2xl font-bold mb-4 text-gray-700">Savings Breakdown</h2>

                        <div className="relative h-8 bg-gray-200 rounded-full mb-4">
                            <div
                                className="absolute left-0 top-0 h-full bg-green-600 rounded-full"
                                style={{ width: `${(breakdownSavings.annualInsuranceSavings / annualSavings) * 100}%` }}
                            ></div>
                            <div
                                className="absolute left-0 top-0 h-full bg-blue-500 rounded-full"
                                style={{
                                    width: `${(breakdownSavings.annualUtilitySavings / annualSavings) * 100}%`,
                                    marginLeft: `${(breakdownSavings.annualInsuranceSavings / annualSavings) * 100}%`
                                }}
                            ></div>
                            <div
                                className="absolute left-0 top-0 h-full bg-yellow-500 rounded-full"
                                style={{
                                    width: `${(breakdownSavings.annualTaxBenefit / annualSavings) * 100}%`,
                                    marginLeft: `${((breakdownSavings.annualInsuranceSavings + breakdownSavings.annualUtilitySavings) / annualSavings) * 100}%`
                                }}
                            ></div>
                        </div>

                        <div className="grid grid-cols-3 gap-4">
                            <div>
                                <div className="flex items-center">
                                    <div className="w-4 h-4 bg-green-600 rounded-full mr-2"></div>
                                    <span>Insurance Savings</span>
                                </div>
                                <div className="text-lg font-semibold">${formatNumber(breakdownSavings.annualInsuranceSavings)}/yr</div>
                            </div>
                            <div>
                                <div className="flex items-center">
                                    <div className="w-4 h-4 bg-blue-500 rounded-full mr-2"></div>
                                    <span>Utility Savings</span>
                                </div>
                                <div className="text-lg font-semibold">${formatNumber(breakdownSavings.annualUtilitySavings)}/yr</div>
                            </div>
                            <div>
                                <div className="flex items-center">
                                    <div className="w-4 h-4 bg-yellow-500 rounded-full mr-2"></div>
                                    <span>Tax Benefit</span>
                                </div>
                                <div className="text-lg font-semibold">${formatNumber(breakdownSavings.annualTaxBenefit)}/yr</div>
                            </div>
                        </div>
                    </div>

                    <div className="bg-white p-6 rounded-lg shadow">
                        <h3 className="font-semibold text-gray-600">Total Savings over {projectionYears} years:</h3>
                        <div className="text-2xl text-gray-800 font-bold">${formatNumber(breakdownSavings.totalLongTermSavings)}</div>
                    </div>

                    <button className="mt-8 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg font-bold">
                        Get a Quote
                    </button>
                </div>
            );
        };

        ReactDOM.render(<HurricaneWindowCalculator />, document.getElementById('root'));
    </script>
</body>
</html>
